# 作用域 考点 ==> 作用域的理解 以后工作中会用到

`定义：`

通常来说，一段程序代码中所用到的名字并不总是有效和可用的，而限定这个名字的**可用性的代码范围**就是这个名字的作用域。

作用域的使用**提高了程序逻辑的局部性，增强了程序的可靠性，减少了名字冲突**。

```
// js作用域--es6之前：全局作用域、局部作用域

// 1.全局作用域：作用于整个script标签或者是一个单独的js文件
      var num = 10;
      console.log(num);


// 2.局部作用域（函数作用域）：在函数内部就是局部作用域，这个代码的名字只在函数内部起效果和作用
      function fn() {
        // 局部作用域;
        var num = 20;
        console.log(num);
      }
      fn();
```

## 一、变量作用域

根据作用域的不同，变量分为全局变量和局部变量。

### 1.1 全局变量

在全局作用域下的变量。（在函数外部定义的变量）

- 全局变量在代码的任何位置都可以使用

- 在全局作用域下 var 声明的变量是全局变量

- 特殊情况下，在函数不使用 var 声明的变量也是全局变量（不建议使用）

```
1.全局变量-在全局作用域下的变量

// 如果在函数内部没有声明直接赋值的变量也属于全局变量

      var num = 10; // num就是一个全局变量
      console.log(num);
      function fn() {
        console.log(num);
      }
      fn();
```

### 1.2 局部变量

在局部作用域下声明的变量（在函数内部定义的变量）

- 局部变量只能在该函数内部使用

- 在函数内部 var 声明的变量就是局部变量

- 函数的形参实际上就是局部变量

```
 2.局部变量：在局部作用域下的变量，或者是在函数内部的变量

// 注意：函数的形参也可以看做是局部变量

      function fun(aru) {
        var num1 = 10; //num1就是局部变量，只能在函数内部使用
        num2 = 20;
      }
      fun();
      console.log(num2);
```

### 1.3 局部变量和全局变量的区别

- 全局变量：在任何地方都可以使用，只有浏览器关闭的时候才会销毁，比较占内存资源

- 局部变量：只在函数内部使用，当其所在的代码块被执行时，会被初始化；当代码块运行结束后，就会被销毁，因此节省空间

### 1.4 JS 没有块级作用域

- JS 的作用域：全局作用域、局部作用域

- JS 是在 es6 的时候新增的块级作用域。

- 块级作用域：{}、if {}、for {}

## 二、作用域链（就近原则） ===》考点： 什么是作用域链

- 只要是代码，就至少有一个作用域

- 写在函数内部的就是局部作用域

- 如果函数中还有函数，那么在这个作用域中就又可以诞生一个作用域

- 根据在内部函数可以访问外部函数变量这种机制，用链式查找决定那些数据能被内部函数访问，就成为**作用域链**
